
        {
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Total Production",
    "subtitle": ["% change, ONS"],
    "subtitleFontStyle": "italic",
    "subtitleFontSize": 10,
    "anchor": "start",
    "color": "black"
  },
 "data": {
    "values": [
            {
              "date": "1997",
            "label": "1997",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "0.75",
            "year": "1997"
        },
        {
            "date": "1998",
            "label": "1998",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "0.68",
            "year": "1998"
        },
        {
            "date": "1999",
            "label": "1999",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "0.95",
            "year": "1999"
        },
        {
            "date": "2000",
            "label": "2000",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "0.39",
            "year": "2000"
        },
        {
            "date": "2001",
            "label": "2001",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "0.57",
            "year": "2001"
        },
        {
            "date": "2002",
            "label": "2002",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "0.19",
            "year": "2002"
        },
        {
            "date": "2003",
            "label": "2003",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "0.48",
            "year": "2003"
        },
        {
            "date": "2004",
            "label": "2004",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "-0.09",
            "year": "2004"
        },
        {
            "date": "2005",
            "label": "2005",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "-0.16",
            "year": "2005"
        },
        {
            "date": "2006",
            "label": "2006",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "0.54",
            "year": "2006"
        },
        {
            "date": "2007",
            "label": "2007",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "-0.24",
            "year": "2007"
        },
        {
            "date": "2008",
            "label": "2008",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "-0.21",
            "year": "2008"
        },
        {
            "date": "2009",
            "label": "2009",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "-1.07",
            "year": "2009"
        },
        {
            "date": "2010",
            "label": "2010",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "-0.19",
            "year": "2010"
        },
        {
            "date": "2011",
            "label": "2011",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "-0.83",
            "year": "2011"
        },
        {
            "date": "2012",
            "label": "2012",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "0.01",
            "year": "2012"
        },
        {
            "date": "2013",
            "label": "2013",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "0.33",
            "year": "2013"
        },
        {
            "date": "2014",
            "label": "2014",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "0.29",
            "year": "2014"
        },
        {
            "date": "2015",
            "label": "2015",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "0.72",
            "year": "2015"
        },
        {
            "date": "2016",
            "label": "2016",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "0.07",
            "year": "2016"
        },
        {
            "date": "2017",
            "label": "2017",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "-0.03",
            "year": "2017"
        },
        {
            "date": "2018",
            "label": "2018",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "0.46",
            "year": "2018"
        },
        {
            "date": "2019",
            "label": "2019",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "0.32",
            "year": "2019"
        },
        {
            "date": "2020",
            "label": "2020",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "0.17",
            "year": "2020"
        },
        {
            "date": "2021",
            "label": "2021",
            "month": "",
            "quarter": "",
            "sourceDataset": "PN2",
            "updateDate": "2022-11-11T00:00:00.000Z",
            "value": "0.98",
            "year": "2021"
       }
    ]
  },

     "transform": [
    {"calculate": "datum.year", "as": "year"},
    {"filter": "datum.year>=minYear"},
    {"filter": "datum.year<=maxYear"}
  ],
  "params": [
    {
      "name": "minYear",
      "value": 1989,
      "bind": {
        "input": "range",
        "min": 1998,
        "max": 2022,
        "step": 1,
        "name": "Start year:"
      }
    },
    {
      "name": "maxYear",
      "value": 2022,
      "bind": {
        "input": "range",
        "min": 1998,
        "max": 2022,
        "step": 1,
        "name": "End year:"
      }
    }
  ],
  "height": 150,
  "width": 150,
  "mark": {"type": "line", "color": "#db47d4"},
  "encoding": {
    "x": {"field": "year", "type": "temporal", "title": "year"},
    "y": {"field": "value", "type": "quantitative", "title": "% change"}
  }
}

   
